class bag{
    constructor(size){
        this.size=size;
        this.init();
    }
    putin(otherBag){
        this.item.forEach((item,index)=>{
            this.addItem(otherBag.item[index].name[0],otherBag.item[index].amount,otherBag.item[index].quality,otherBag.item[index].trait);
            otherBag.subItem(otherBag.item[index].name[0],otherBag.item[index].amount);
        });
    }
    addItem(name,amount,quality,trait){
        this.item.forEach(i=>{
            if(i.name[0]==name){
                i.amount+=amount;
                i.quality.push(...quality);
                i.trait.push(...trait);
            }
        });
    }
    subItem(name,amount){
        this.item.forEach(i=>{
            if(i.name[0]==name){
                i.amount-=amount;
                for(var j=0;j<amount;j++){
                    i.quality.pop();
                    i.trait.pop();
                }
            }
        });
    }
    useItem(name,quality,trait){
        for(let i=0;i<this.item.length;i++){
            if(this.item[i].name[0]==name){
                for(let j=0;j<this.item[i].amount;j++){
                    if(this.item[i].quality[j]==quality&&this.item[i].trait[j]==trait){
                        this.item[i].quality.splice(j,1);
                        this.item[i].trait.splice(j,1);
                        this.item[i].amount--;
                        return;
                    }
                }
            }
        }
    }
    itemAmount(){
        let amount=0;
        this.item.forEach(i=>{
            amount+=i.amount;
        });
        return amount;
    }
    clear(){
        for(let i=0;i<this.item.length;i++){
            this.item[i].amount=0;
            this.item[i].quality=[];
            this.item[i].trait=[];
        }
    }
    itemID(name){
        for(let i=0;i<this.item.length;i++){
            if(this.item[i].name[0]==name){
                return i;
            }
        }
    }
    init(){
        this.item=[
            {
                "name":["天启与智慧之杖"],
                "intro":"",
                "img":"enlightenment-staff.webp",
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["冶炼秘术"],
                "intro":"",
                "img":"stained-grimoire.webp",
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["高等冶炼术"],
                "intro":"",
                "img":"stained-grimoire.webp",
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["宝石雕刻术"],
                "intro":"",
                "img":"stained-grimoire.webp",
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["十字镐"],
                "intro":"这是寻宝的必备之物对吧！",
                "img":"pickaxe.webp",
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["旅人之鞋"],
                "intro":"这鞋子真优秀，它会推着脚跟前进。",
                "img":"traveler-s-shoes.webp",
                "amount":1,
                "quality":[0],
                "trait":[""]
            },
            {
                "name":["爆破用炎烧"],
                "intro":"火药的量真的很难把握呢。",
                "img":"demolition-bomb.webp",
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["炸弹的制作方法"],
                "intro":"",
                "img":"stained-grimoire.webp",
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["饮用水","（水）"],
                "intro":"咕噜咕噜……嗯～就是一般的水呢。",
                "img":"drinking-water.webp",
                "price":1,
                "amount":2,
                "quality":[5,5],
                "trait":["",""]
            },
            {
                "name":["啪汽啪汽水","（水）","（气体）"],
                "intro":"直接喝也很好喝，不过冰镇后会更美味呢。",
                "img":"crackling-water.webp",
                "price":1,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["寻常草","（植物）"],
                "intro":"应该也可以当药草啦，不过基本上还是用作燃料居多。",
                "img":"koinos-grass.webp",
                "price":1,
                "amount":1,
                "quality":[10],
                "trait":[""]
            },
            {
                "name":["鞣皮液","（有毒材料）"],
                "intro":"好密实的容器。",
                "img":"tanning-fluid.webp",
                "price":5,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["红色的花","（植物）","（燃料）"],
                "intro":"啊，我见过这种花！名字叫……什么来着？<br>总之先叫它红色的花吧。",
                "img":"red-flower.webp",
                "price":1,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["蓝色的花","（植物）","（药材）"],
                "intro":"这是开在海边等类寒冷地区的花。为了抵御强风，它的根抓得很牢，所以拔的时候最好使出全力。",
                "img":"blue-flower.webp",
                "price":1,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["黄色的花","（植物）","（食材）"],
                "intro":"听说这种花有很多花蜜。<br>这么说，附近该不会有蜜蜂……哇──！快逃──！",
                "img":"yellow-flower.webp",
                "price":1,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["绿色的花","（植物）"],
                "intro":"这种花啊，咬下去会甜甜的。<br>不过，它看起来苦苦的，咬下去可能需要勇气……",
                "img":"green-flower.webp",
                "price":1,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["白色的花","（植物）","（神秘之力）"],
                "intro":"听说这种花在阴暗处放个几天，马上就会枯萎了。<br>不过放晴了好像就会立刻长回来。",
                "img":"white-flower.webp",
                "price":1,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["中和剂（红）","（中和剂）","（燃料）"],
                "intro":"炼金术基础中的基础，中和剂！",
                "img":"red-neutralizer.webp",
                "price":10,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["中和剂（蓝）","（中和剂）","（食材）"],
                "intro":"是蓝色的，所以是冰属性呢。这样很好懂对吧。幸好蓝色不是火属性。",
                "img":"blue-neutralizer.webp",
                "price":10,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["中和剂（黄）","（中和剂）","（石材）"],
                "intro":"这是黄色的，所以是雷属性吗？这次要加砂才行，但我也可以加雷电吗？",
                "img":"yellow-neutralizer.webp",
                "price":10,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["中和剂（绿）","（中和剂）","（气体）"],
                "intro":"啊，底部有残渣。跟其他的不同，制作这种中和剂时，必须要过滤，所以很麻烦啊。",
                "img":"green-neutralizer.webp",
                "price":10,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["中和剂（白）","（中和剂）","（有毒材料）"],
                "intro":"得小心不要把它当成牛奶喝掉。",
                "img":"white-neutralizer.webp",
                "price":10,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["万能中和剂（虹）","（中和剂）"],
                "intro":"啊啊，真希望它的作法可以再简单一点。",
                "img":"rainbow-neutralizer.webp",
                "price":200,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["炼金黏土","（砂）","（万灵药）"],
                "intro":"哎呀～玩黏土一不小心就会忘了时间对吧？",
                "img":"alchemic-clay.webp",
                "price":15,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["直木","（木材）","（火药）"],
                "intro":"偶尔～会有弯曲的长出来，那种也能卖到相当高价呢。<br>弯曲的直木……也太莫名其妙了。",
                "img":"straight-baum.webp",
                "price":1,
                "amount":1,
                "quality":[10],
                "trait":[""]
            },
            {
                "name":["灰木炭","（木材）","（燃料）"],
                "intro":"“好，我来施个魔法。我会让你知道你是很棒的素材。来吧，坐上南瓜马车……",
                "img":"aschenp-coal.webp",
                "price":1,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["白砂","（砂）","（药材）"],
                "intro":"好的白砂颗粒细腻，照到光还会有点闪闪发亮。",
                "img":"white-sand.webp",
                "price":1,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["可燃灰砂","（砂）","（燃料）","（火药）"],
                "intro":"哈……哈……哈啾！",
                "img":"flammable-sand.webp",
                "price":1,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["金属块","（金属）"],
                "intro":"接下来会用它做出各种各样的东西！",
                "img":"ingot.webp",
                "price":50,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["丝薇丽银","（金属）"],
                "intro":"银色果然很帅气啊。",
                "img":"silvalia.webp",
                "price":100,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["黄金艾森矿","（金属）","（原石）"],
                "intro":"金条！",
                "img":"gold-eisen.webp",
                "price":500,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["精灵银块","（金属）"],
                "intro":"要把这个拿来锻造东西？",
                "img":"harmonium.webp",
                "price":1000,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["海银","（金属）"],
                "intro":"让人联想到海底的深蓝色……我是第一次见到这种金属。<br>据说它是只存在于传说里的金属。原来颜色这么漂亮。",
                "img":"okeagyrn.webp",
                "price":2000,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["艾森矿","（矿石）"],
                "intro":"艾森矿随处可见，而且熔点又低，可以用家里的锅子进行加工呢。",
                "img":"eisen-ore.webp",
                "price":1,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["黑洞","（魔法道具）","（神秘之力）"],
                "intro":"……嗯，差不多就这样吧。好，放入！",
                "img":"black-agujero.webp",
                "price":1000,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["龙之血晶","（龙素材）","（神秘之力）"],
                "intro":"凝固成这样，它吃的肯定都是油腻的食物……",
                "img":"dragon-bloodstone.webp",
                "price":100,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["龙眼","（龙素材）","（神秘之力）","（万灵药）"],
                "intro":"我曾看到过这颗龙眼在晚上转来转去的。",
                "img":"dragon-eye.webp",
                "price":100,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["贤者之石","（石材）","（神秘之力）","（宝石）","（万灵药）"],
                "intro":"",
                "img":"philosopher-s-stones.webp",
                "price":10000,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["百万水晶","（宝石）","（神秘之力）"],
                "intro":"原来如此，放在水里就没声音了。",
                "img":"millio-quartz.webp",
                "price":800,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["纯洁钻石","（宝石）","（万灵药）"],
                "intro":"感觉我能改当宝石工匠呢。",
                "img":"innocent-adamas.webp",
                "price":650,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["睿智绿宝石","（宝石）","（植物）"],
                "intro":"我盯……",
                "img":"wise-smaragd.webp",
                "price":400,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["诚实黄宝石","（宝石）","（砂）","（石材）"],
                "intro":"它在晚上也会发出耀眼的光芒，所以被人称为“夜晚的太阳”。<br>还有，据说只要改变调合的方式，它也能呼唤雷电。",
                "img":"honest-topaz.webp",
                "price":300,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["高贵蓝宝石","（宝石）","（矿石）"],
                "intro":"这种宝石似乎是贵族或王族的证明。",
                "img":"noble-sapphire.webp",
                "price":225,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["热情红宝石","（宝石）","（燃料）"],
                "intro":"其实这个也能拿来制作引爆装置。",
                "img":"passion-ruby.webp",
                "price":150,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["野兽毛皮","（动物素材）"],
                "intro":"该说是充满野性的味道么……有一股野兽的臭味呢。",
                "img":"beast-pelt.webp",
                "price":1,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["鞣制皮革","（动物素材）","杂货"],
                "intro":"这才是这种皮革真正的模样！",
                "img":"leather.webp",
                "price":50,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["纯水","（水）"],
                "intro":"最后要用这个把炼金釜洗干净。如果留有杂质的话，就会对釜里残留的药品产生反应。",
                "img":"pure-water.webp",
                "price":5,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["抛光液","（砂）"],
                "intro":"水龙头的打扫，就交给这个莉莉丝牌抛光液！",
                "img":"polish.webp",
                "price":20,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["红宝石原石","（原石）","（火药）"],
                "intro":"虽然它现在的颜色很吓人，但听说经过加工处理就会变得很漂亮。",
                "img":"rubis-gemstone.webp",
                "price":1,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["蓝宝石原石","（原石）","（矿石）"],
                "intro":"有传闻称这里面含有圣水……",
                "img":"saphir-gemstone.webp",
                "price":1,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["黄宝石原石","（原石）","（砂）"],
                "intro":"好可爱的颜色。光是看着它，就让我充满活力。",
                "img":"topacio-gemstone.webp",
                "price":1,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["绿宝石原石","（原石）","（气体）"],
                "intro":"这个能用来骗过蛇类魔物的眼睛……",
                "img":"emeraude-gemstone.webp",
                "price":1,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["钻石原石","（原石）","（万灵药）"],
                "intro":"精美绝伦又价格昂贵的果然还是这种石头！",
                "img":"diamant-gemstone.webp",
                "price":1,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["黄金色之岩","（原石）","（矿石）","（石材）"],
                "intro":"这、这是货真价实的宝藏……我要仔细观察观察。",
                "img":"golden-rock.webp",
                "price":1,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["残破矿石"],
                "intro":"或许是由于这种矿石多层的结构，做成剑后会浮现出复杂的刀纹。恐怕每一层的性质都有细微差异……",
                "img":"atelis-ore.webp",
                "price":1,
                "amount":0,
                "quality":[],
                "trait":[]
            },
            {
                "name":["星幻钥匙"],
                "intro":"这是从外太空坠落下来的陨石……",
                "img":"key-to-the-stars.webp",
                "price":1,
                "amount":0,
                "quality":[],
                "trait":[]
            },
        ]
    }
}